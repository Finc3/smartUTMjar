window.getCookie=function(b){var a=document.cookie.match(new RegExp("(^| )"+b+"=([^;]+)"));if(a){return a[2]}};function isAdRelevantVisit(){return document.referrer.includes("google.com")||document.referrer.includes("bing.com")||location.search.includes("utm_source")||location.search.includes("gclid")}function visitedDate(){var a=new Date();return a.getUTCFullYear()+"-"+(a.getUTCMonth()+1)+"-"+a.getUTCDate()+"T"+a.getUTCHours()+":"+a.getUTCMinutes()+":00Z"}function extractParameters(){var a={};var b=null;location.search.substr(1).split("&").forEach(function(c){b=c.split("=");a[b[0]]=decodeURIComponent(b[1])});return a}function parametersToString(b){var a={};Object.keys(b).forEach(function(c){if(c==="utm_source"||c==="utm_medium"||c==="utm_campaign"||c==="utm_term"||c==="utm_content"||c==="gclid"){a[c]=b[c]}else{if(document.referrer.includes("google.com")||document.referrer.includes("bing.com")){a={utm_source:"organic"}}}});a.visit=visitedDate();return a}function writeCookieWithUTMParams(b){var a=[b];if(document.cookie.indexOf("smartUTMJar=")>=0){lastCookieValue=JSON.parse(getCookie("smartUTMJar"));a=a.concat(lastCookieValue)}document.cookie="smartUTMJar=".concat(JSON.stringify(a))}function fillUTMJarField(){if(document.cookie.indexOf("smartUTMJar=")>=0){hf=document.getElementById("smujarHistory");if(!hf){hf=document.getElementsByName("smujarHistory")[0]}if(hf){hf.value=getCookie("smartUTMJar")}hf=document.getElementById("smujarFirstVisit");if(!hf){hf=document.getElementsByName("smujarFirstVisit")[0]}if(hf){var b=JSON.parse(getCookie("smartUTMJar"));var a=b[b.length-1].utm_source;var d=b[b.length-1].utm_medium;var e=b[b.length-1].gclid;var c=b[b.length-1].utm_campaign;var f="";if(a){f+=a}if(d){if(a){f+="-"}f+=d}if(c){if(a||d){f+="-"}f+=e}if(e){if(a||d||c){f+="-"}f+=c}hf.value=f}hf=document.getElementById("smujarFirstVisitTime");if(!hf){hf=document.getElementsByName("smujarFirstVisitTime")[0]}if(hf){var b=JSON.parse(getCookie("smartUTMJar"));hf.value=b[b.length-1].visit}}}function maintainLength(){if(document.cookie.indexOf("smartUTMJar=")>=0){lastCookieValue=JSON.parse(getCookie("smartUTMJar"));if(lastCookieValue.length>20){cookieValue=lastCookieValue.slice(lastCookieValue.length-1,lastCookieValue.length);document.cookie="smartUTMJar=".concat(JSON.stringify(cookieValue))}}}function disableSmujarCookie(){document.cookie="smartUTMJar=DoNotTrack";hf=document.getElementById("smujarFirstVisit");if(hf){hf.value=""}hf=document.getElementById("smujarHistory");if(hf){hf.value=""}hf=document.getElementById("smujarFirstVisitTime");if(hf){hf.value=""}hf=document.getElementsByName("smujarFirstVisit");if(hf.length>0){hf[0].value=""}hf=document.getElementsByName("smujarHistory");if(hf.length>0){hf[0].value=""}hf=document.getElementsByName("smujarFirstVisitTime");if(hf.length>0){hf[0].value=""}}function trackEnabled(){return getCookie("smartUTMJar")!="DoNotTrack"}if(isAdRelevantVisit()&&trackEnabled()){params=extractParameters();writeCookieWithUTMParams(parametersToString(params))}if(trackEnabled()){maintainLength();fillUTMJarField()};
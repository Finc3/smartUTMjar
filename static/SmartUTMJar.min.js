function isAdRelevantVisit(){return document.referrer.includes("google.com")||document.referrer.includes("bing.com")||location.search.includes("utm_source")||location.search.includes("gclid")}function visitedDate(){var e=new Date;return e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+"T"+e.getUTCHours()+":"+e.getUTCMinutes()+":00Z"}function extractParameters(){var e={},t=null;return location.search.substr(1).split("&").forEach(function(a){t=a.split("="),e[t[0]]=decodeURIComponent(t[1])}),e}function parametersToString(e){var t={};return Object.keys(e).forEach(function(a){"utm_source"===a||"utm_medium"===a||"utm_campaign"===a||"gclid"===a?t[a]=e[a]:(document.referrer.includes("google.com")||document.referrer.includes("bing.com"))&&(t={utm_source:"organic"})}),t.visit=visitedDate(),t}function writeCookieWithUTMParams(e){var t=[e];document.cookie.indexOf("smartUTMJar=")>=0&&(lastCookieValue=JSON.parse(getCookie("smartUTMJar")),t=t.concat(lastCookieValue)),document.cookie="smartUTMJar=".concat(JSON.stringify(t))}function fillUTMJarField(){if(hf=document.getElementById("smujarHistory"),hf&&(hf.value=getCookie("smartUTMJar")),hf=document.getElementById("smujarFirstVisit"),hf){var e=(i=JSON.parse(getCookie("smartUTMJar")))[i.length-1].utm_source,t=i[i.length-1].utm_medium,a=i[i.length-1].gclid,o="";e&&(o+=e),t&&(e&&(o+="-"),o+=t),a&&(o+=a),hf.value=o}if(hf=document.getElementById("smujarFirstVisitTime"),hf){var i=JSON.parse(getCookie("smartUTMJar"));hf.value=i[i.length-1].visit}}function maintainLength(){document.cookie.indexOf("smartUTMJar=")>=0&&(lastCookieValue=JSON.parse(getCookie("smartUTMJar")),lastCookieValue.length>20&&(cookieValue=lastCookieValue.slice(lastCookieValue.length-1,lastCookieValue.length),document.cookie="smartUTMJar=".concat(JSON.stringify(cookieValue))))}function disableSmujarCookie(){document.cookie="smartUTMJar=DoNotTrack",hf=document.getElementById("smujarFirstVisit"),hf&&(hf.value=""),hf=document.getElementById("smujarHistory"),hf&&(hf.value=""),hf=document.getElementById("smujarFirstVisitTime"),hf&&(hf.value="")}function trackEnabled(){return"DoNotTrack"!=getCookie("smartUTMJar")}window.getCookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(t)return t[2]},isAdRelevantVisit()&&trackEnabled()&&(params=extractParameters(),writeCookieWithUTMParams(parametersToString(params))),trackEnabled()&&(maintainLength(),fillUTMJarField());